{
  "steps": [
    {
      "type": "llm_generate",
      "config": {
        "prompt": "Extract the final list of all components that don't need further splitting.\n\nProcessing Results:\n{{processing_results}}\n\nOutput a JSON array containing all components in the final_components list.",
        "model": "{{model|default:'openai/o3-mini'}}",
        "output_format": [{ "type": "object" }],
        "output_key": "final_component_list"
      }
    },
    {
      "type": "llm_generate",
      "config": {
        "prompt": "Generate a summary of the component analysis and splitting process.\n\nFinal Components:\n{{final_component_list}}\n\nProcess State:\n{{process_state}}\n\nCreate a detailed summary of the process, including how many iterations were performed, how many components were split, and the final list of components.",
        "model": "{{model|default:'openai/o3-mini'}}",
        "output_format": "files",
        "output_key": "component_analysis_summary"
      }
    },
    {
      "type": "write_files",
      "config": {
        "files_key": "component_analysis_summary",
        "root": "{{output_dir}}/analysis"
      }
    },
    {
      "type": "execute_recipe",
      "config": {
        "recipe_path": "recipes/blueprint_generator/recipes/final_component_processing.json"
      }
    }
  ]
}
